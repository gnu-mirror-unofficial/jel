<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (14.0.2) on Tue Nov 17 18:26:26 MSK 2020 -->
<title>Evaluator (JEL API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2020-11-17">
<meta name="description" content="declaration: package: gnu.jel, class: Evaluator">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../script-dir/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
<script type="text/javascript" src="../../script-dir/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../script-dir/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../script-dir/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../script-dir/jquery-3.4.1.js"></script>
<script type="text/javascript" src="../../script-dir/jquery-ui.js"></script>
</head>
<body class="class-declaration">
<script type="text/javascript">var data = {"i0":9,"i1":9,"i2":9,"i3":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flexBox">
<header role="banner" class="flexHeader">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Evaluator.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<div class="navListSearch"><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="skipNav"><a id="skip.navbar.top">
<!--   -->
</a></div>
</nav>
</header>
<div class="flexContent">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">gnu.jel</a></div>
<h1 title="Class Evaluator" class="title">Class Evaluator</h1>
</div>
<div class="contentContainer">
<div class="inheritance" title="Inheritance Tree">java.lang.Object
<div class="inheritance">gnu.jel.Evaluator</div>
</div>
<section class="description">
<hr>
<pre>public class <span class="typeNameLabel">Evaluator</span>
extends java.lang.Object</pre>
<div class="block">This is the main frontend to JEL.
 <P>It is intended for compilation of algebraic expressions involving 
 functions.
 <P> Syntax allows variables, which can be either a public fields of
 certain objects or functions with no arguments.  If a method like
 "<TT>double x() {}</TT>;" is defined in the dynamic library class
 (see <tt>gnu.jel.Library</tt> documentation on how to do this), an
 expression "<TT>sin(x)</TT>" will call the method "<TT>x()</TT>" (
 and function <TT>Math.sin()</TT> ) each time it is evaluated.
 Static methods in namespace are assumed to be stateless (unless
 this default behaviour is explicitly overridden, as is necessary
 for <tt>Math.random()</tt>) and will be called at compile time if
 their arguments are known.
 <P>It is possible to have any type of intermediate object
 throughout the calculation as long as types of the function return
 values and parameters stay compatible. The compiler can
 do all the type conversions permissible in Java language and more 
 (e.g. between reflection wrappers <tt>java.lang.Integer</tt>,... and
 primitives). Widening type conversions (not leading to precision loss)
 are applied by JEL automatically, narrowing should be explicitly 
 requested.
 <P>There is variant of the "compile" function with three arguments,
 which allows to fix the type of the expression result. For example:
 <PRE>
 CompiledExpression expression=compile("2*6+6",lib,Double.TYPE); 
 </PRE> 
 will produce a compiled expression, whose return type is always
 <TT>double</TT>. For additional information on how to use this
 feature to eliminate object allocation overhead see
 <TT>gnu.jel.CompiledExpression</TT> documentation.
 
 <P> Care should be taken during the assembly of static and dynamic libraries
 to avoid conflicts and unexpected return types.

 <P>(c) 1998-2003, by Konstantin Metlov<BR>
 Prague, CZ</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="CompiledExpression.html" title="class in gnu.jel"><code>CompiledExpression</code></a>, 
<a href="Library.html" title="class in gnu.jel"><code>Library</code></a></dd>
</dl>
</section>
<section class="summary">
<ul class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<li class="blockList">
<section class="fieldSummary"><a id="field.summary">
<!--   -->
</a>
<h2>Field Summary</h2>
<div class="memberSummary">
<table>
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<thead>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor">
<td class="colFirst"><code>protected static <a href="ClassFile.html" title="class in gnu.jel">ClassFile</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#cf_orig">cf_orig</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static <a href="LocalMethod.html" title="class in gnu.jel">LocalMethod</a>[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#eval_methods">eval_methods</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#retID_patchback">retID_patchback</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#retIDC_patchback">retIDC_patchback</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
</tbody>
</table>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li class="blockList">
<section class="constructorSummary"><a id="constructor.summary">
<!--   -->
</a>
<h2>Constructor Summary</h2>
<div class="memberSummary">
<table>
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<thead>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E()">Evaluator</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</tbody>
</table>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li class="blockList">
<section class="methodSummary"><a id="method.summary">
<!--   -->
</a>
<h2>Method Summary</h2>
<div class="memberSummary">
<div role="tablist" aria-orientation="horizontal"><button role="tab" aria-selected="true" aria-controls="memberSummary_tabpanel" tabindex="0" onkeydown="switchTab(event)" id="t0" class="activeTableTab">All Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t1" class="tableTab" onclick="show(1);">Static Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t4" class="tableTab" onclick="show(8);">Concrete Methods</button></div>
<div id="memberSummary_tabpanel" role="tabpanel">
<table aria-labelledby="t0">
<thead>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor" id="i0">
<td class="colFirst"><code>static <a href="CompiledExpression.html" title="class in gnu.jel">CompiledExpression</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#compile(java.lang.String,gnu.jel.Library)">compile</a></span>&#8203;(java.lang.String&nbsp;expression,
<a href="Library.html" title="class in gnu.jel">Library</a>&nbsp;lib)</code></th>
<td class="colLast">
<div class="block">Compiles expression, resolving the function names in the library.</div>
</td>
</tr>
<tr class="rowColor" id="i1">
<td class="colFirst"><code>static <a href="CompiledExpression.html" title="class in gnu.jel">CompiledExpression</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#compile(java.lang.String,gnu.jel.Library,java.lang.Class)">compile</a></span>&#8203;(java.lang.String&nbsp;expression,
<a href="Library.html" title="class in gnu.jel">Library</a>&nbsp;lib,
java.lang.Class&lt;?&gt;&nbsp;resultType)</code></th>
<td class="colLast">
<div class="block">Compiles expression, resolving the function names in the library.</div>
</td>
</tr>
<tr class="altColor" id="i2">
<td class="colFirst"><code>static byte[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#compileBits(java.lang.String,gnu.jel.Library)">compileBits</a></span>&#8203;(java.lang.String&nbsp;expression,
<a href="Library.html" title="class in gnu.jel">Library</a>&nbsp;lib)</code></th>
<td class="colLast">
<div class="block">Compiles expression, resolving the function names in the library.</div>
</td>
</tr>
<tr class="rowColor" id="i3">
<td class="colFirst"><code>static byte[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#compileBits(java.lang.String,gnu.jel.Library,java.lang.Class)">compileBits</a></span>&#8203;(java.lang.String&nbsp;expression,
<a href="Library.html" title="class in gnu.jel">Library</a>&nbsp;lib,
java.lang.Class&lt;?&gt;&nbsp;resultType)</code></th>
<td class="colLast">
<div class="block">Compiles expression, resolving the function names in the library.</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="inheritedList">
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a><code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<li class="blockList">
<section class="fieldDetails"><a id="field.detail">
<!--   -->
</a>
<h2>Field Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="cf_orig">cf_orig</a></h3>
<div class="memberSignature"><span class="modifiers">protected static</span>&nbsp;<span class="returnType"><a href="ClassFile.html" title="class in gnu.jel">ClassFile</a></span>&nbsp;<span class="memberName">cf_orig</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="retID_patchback">retID_patchback</a></h3>
<div class="memberSignature"><span class="modifiers">protected static</span>&nbsp;<span class="returnType">int</span>&nbsp;<span class="memberName">retID_patchback</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="retIDC_patchback">retIDC_patchback</a></h3>
<div class="memberSignature"><span class="modifiers">protected static</span>&nbsp;<span class="returnType">int</span>&nbsp;<span class="memberName">retIDC_patchback</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="eval_methods">eval_methods</a></h3>
<div class="memberSignature"><span class="modifiers">protected static</span>&nbsp;<span class="returnType"><a href="LocalMethod.html" title="class in gnu.jel">LocalMethod</a>[]</span>&nbsp;<span class="memberName">eval_methods</span></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li class="blockList">
<section class="constructorDetails"><a id="constructor.detail">
<!--   -->
</a>
<h2>Constructor Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="&lt;init&gt;()">Evaluator</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="memberName">Evaluator</span>()</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li class="blockList">
<section class="methodDetails"><a id="method.detail">
<!--   -->
</a>
<h2>Method Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="compile(java.lang.String,gnu.jel.Library,java.lang.Class)">compile</a></h3>
<div class="memberSignature"><span class="modifiers">public static</span>&nbsp;<span class="returnType"><a href="CompiledExpression.html" title="class in gnu.jel">CompiledExpression</a></span>&nbsp;<span class="memberName">compile</span>&#8203;(<span class="arguments">java.lang.String&nbsp;expression,
<a href="Library.html" title="class in gnu.jel">Library</a>&nbsp;lib,
java.lang.Class&lt;?&gt;&nbsp;resultType)</span>
                                  throws <span class="exceptions"><a href="CompilationException.html" title="class in gnu.jel">CompilationException</a></span></div>
<div class="block">Compiles expression, resolving the function names in the library.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>expression</code> - is the expression to compile. i.e. "sin(666)" .</dd>
<dd><code>lib</code> - Library of functions exported for use in expression.</dd>
<dd><code>resultType</code> - identifies the type result should be converted to. Can
        be null, in this case the result type is not fixed.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Instance of the CompiledExpression subclass, implementing
   the specified expression evaluation.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="CompilationException.html" title="class in gnu.jel">CompilationException</a></code> - if the expression is not
  syntactically or semantically correct.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="CompiledExpression.html" title="class in gnu.jel"><code>CompiledExpression</code></a></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="compileBits(java.lang.String,gnu.jel.Library,java.lang.Class)">compileBits</a></h3>
<div class="memberSignature"><span class="modifiers">public static</span>&nbsp;<span class="returnType">byte[]</span>&nbsp;<span class="memberName">compileBits</span>&#8203;(<span class="arguments">java.lang.String&nbsp;expression,
<a href="Library.html" title="class in gnu.jel">Library</a>&nbsp;lib,
java.lang.Class&lt;?&gt;&nbsp;resultType)</span>
                          throws <span class="exceptions"><a href="CompilationException.html" title="class in gnu.jel">CompilationException</a></span></div>
<div class="block">Compiles expression, resolving the function names in the library.
 <P>This variant of compile allows to store expressions in a 
 <TT>java.io.OutputStream</TT> using Java serialization mechanism.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>expression</code> - is the expression to compile. i.e. "sin(666)" .</dd>
<dd><code>lib</code> - Library of functions exported for use in expression.</dd>
<dd><code>resultType</code> - identifies the type result should be converted to. Can
        be null, in this case the result type is not fixed.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Byte array, representing the expression
 in a standard Java classfile format. It can be conveniently 
 loaded (with renaming, if necessary)
 into Java VM using <tt>gnu.jel.ImageLoader</tt>.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="CompilationException.html" title="class in gnu.jel">CompilationException</a></code> - if the expression is not
  syntactically or semantically correct.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="CompiledExpression.html" title="class in gnu.jel"><code>CompiledExpression</code></a>, 
<a href="ImageLoader.html" title="class in gnu.jel"><code>ImageLoader</code></a></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="compile(java.lang.String,gnu.jel.Library)">compile</a></h3>
<div class="memberSignature"><span class="modifiers">public static</span>&nbsp;<span class="returnType"><a href="CompiledExpression.html" title="class in gnu.jel">CompiledExpression</a></span>&nbsp;<span class="memberName">compile</span>&#8203;(<span class="arguments">java.lang.String&nbsp;expression,
<a href="Library.html" title="class in gnu.jel">Library</a>&nbsp;lib)</span>
                                  throws <span class="exceptions"><a href="CompilationException.html" title="class in gnu.jel">CompilationException</a></span></div>
<div class="block">Compiles expression, resolving the function names in the library.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>expression</code> - is the expression to compile. i.e. "sin(666)" .</dd>
<dd><code>lib</code> - Library of functions exported for use in expression.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Instance of the CompiledExpression subclass, implementing
   the specified expression evaluation.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="CompilationException.html" title="class in gnu.jel">CompilationException</a></code> - if the expression is not
  syntactically or semantically correct.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="CompiledExpression.html" title="class in gnu.jel"><code>CompiledExpression</code></a></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="compileBits(java.lang.String,gnu.jel.Library)">compileBits</a></h3>
<div class="memberSignature"><span class="modifiers">public static</span>&nbsp;<span class="returnType">byte[]</span>&nbsp;<span class="memberName">compileBits</span>&#8203;(<span class="arguments">java.lang.String&nbsp;expression,
<a href="Library.html" title="class in gnu.jel">Library</a>&nbsp;lib)</span>
                          throws <span class="exceptions"><a href="CompilationException.html" title="class in gnu.jel">CompilationException</a></span></div>
<div class="block">Compiles expression, resolving the function names in the library.
 <P>This variant of compile allows to store expressions in a 
 <TT>java.io.OutputStream</TT> using Java serialization mechanism.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>expression</code> - is the expression to compile. i.e. "sin(666)" .</dd>
<dd><code>lib</code> - Library of functions exported for use in expression.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Byte array, representing the expression
 in a standard Java classfile format. It can be conveniently 
 loaded (with renaming, if necessary)
 into Java VM using <tt>gnu.jel.ImageLoader</tt>.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="CompilationException.html" title="class in gnu.jel">CompilationException</a></code> - if the expression is not
  syntactically or semantically correct.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="CompiledExpression.html" title="class in gnu.jel"><code>CompiledExpression</code></a>, 
<a href="ImageLoader.html" title="class in gnu.jel"><code>ImageLoader</code></a></dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
</div>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Evaluator.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small><p><i>Copyright &#169; 1998-2020 Konstantin L. Metlov All Rights Reserved.</i></p><p>Permission is granted to copy, distribute and/or modify this document under the terms of the GNU Free Documentation License, Version 1.3 or any later version published by the Free Software Foundation; with no Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts. A copy of the license is included in the JEL manual.</p></small></p>
</footer>
</div>
</div>
</body>
</html>
